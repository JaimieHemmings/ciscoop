{% extends "base.html" %} {% block content %}
<section class="px-4 py-5 text-center small-hero bg-image">
  <div class="row">
    <h1 class="display-5 fw-bold mb-3">
      Edit or Delete <span class="focus-text">Posts</span>
    </h1>
  </div>
</section>
<section>
  <div class="container mt-5">
    <div class="row">
      <div class="col-12">
        <h2 class="sub-title">Blog Posts</h2>
        <ul class="blog-list mt-3">
          {% for post in posts %}
          <li class="p-2 mt-1 mb-1">
            <div class="row">
              <div class="col-8 pt-2 pb-5">
                <h3 class="pt-3 mb-3">{{ post.title }}</h3>
                {{ post.content|truncate(50,true,'...')|safe }}
              </div>
              <div
                class="col-4 d-flex flex-column justify-content-center position-relative"
              >
                <a
                  href="{{ url_for('edit_post', id=post.id) }}"
                  class="btn btn-primary mb-3"
                  >Edit Post</a
                >
                <button class="btn btn-danger delete-button">
                  Delete Post
                </button>
                <div class="delete-confirm hide">
                  <p>Are you sure you want to delete this post?</p>
                  <div class="row">
                    <div class="col-6">
                      <a
                        class="btn btn-danger"
                        href="{{ url_for('delete_post', id=post.id) }}"
                      >
                        Yes, delete it!
                      </a>
                    </div>
                    <div class="col-6">
                      <button class="btn btn-primary cancel-delete">
                        No, keep it!
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </li>
          {% endfor %}
        </ul>
      </div>
    </div>
    <div class="row">
      <div class="col-12 page-buttons">
        <!-- Check if there is a previous page to show -->
        {% if prev_url %}
        <a class="btn btn-primary" href="{{ prev_url }}">Newer posts</a>
        {% endif %}
        <!-- Check if there is a next page to show -->
        {% if next_url %}
        <a class="btn btn-primary" href="{{ next_url }}">Older posts</a>
        {% endif %}
      </div>
    </div>
  </div>
</section>
{% endblock %}
